#### STARTUP PROBE - SUCCESS
apiVersion: v1
kind: Pod
metadata:
  name: startup-probe-demo
spec:
  containers:
  - name: startup-probe-demo
    image: busybox:latest
    args:
    - /bin/sh
    - -c
    - sleep 300
    startupProbe:
      exec:
        command:
        - cat
        - /etc/hostname
      periodSeconds: 10
      failureThreshold: 3

    
#####
check with describe pod .. it will be a success
#####
    
#### STARTUP PROBE - FAILURE
apiVersion: v1
kind: Pod
metadata:
  name: startup-probe-demo
spec:
  containers:
  - name: startup-probe-demo
    image: busybox:latest
    args:
    - /bin/sh
    - -c
    - sleep 300
    startupProbe:
      exec:
        command:
        - cat
        - /etc/hostnamee
      periodSeconds: 10
      failureThreshold: 3

 ####
 check with describe pod - it will fail and container will be restarted
 ####
 
#### READINESS PROBE
apiVersion: v1
kind: Pod
metadata:
  labels:
    test: liveness
  name: liveness-exec
spec:
  containers:
  - name: liveness
    image: lovelearnlinux/webserver:v1
    startupProbe:
      exec:
        command:
        - cat
        - /var/www/html/index.html
      periodSeconds: 10
      failureThreshold: 3
    readinessProbe:
      exec:
        command:
        - cat
        - /var/www/html/index.html
      initialDelaySeconds: 10
      periodSeconds: 10
      timeoutSeconds: 4
      failureThreshold: 2
      successThreshold: 1
 
#### LIVENESS PROBE
apiVersion: v1
kind: Pod
metadata:
  labels:
    test: liveness
  name: liveness-exec
spec:
  containers:
  - name: liveness
    image: lovelearnlinux/webserver:v1
    startupProbe:
      exec:
        command:
        - cat
        - /var/www/html/index.html
      periodSeconds: 10
      failureThreshold: 3
    readinessProbe:
      exec:
        command:
        - cat
        - /var/www/html/index.html
      initialDelaySeconds: 10
      periodSeconds: 10
      timeoutSeconds: 4
      failureThreshold: 2
      successThreshold: 1  
    livenessProbe:
      exec:
        command:
        - cat
        - /var/www/html/index.html
      initialDelaySeconds: 10
      periodSeconds: 10
      timeoutSeconds: 4
      failureThreshold: 6
      successThreshold: 2
 
####
 check with describe pod - it will be success and pod will run 
 now go inside the pod and change the name of /var/www/html/index.html
 and see how kubernetes solve the problem automatically
####



